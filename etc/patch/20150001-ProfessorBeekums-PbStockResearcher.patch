 PbStockScraper.go     |  2 +-
 devConfig             |  6 ++++++
 tmpStore/TempStore.go | 19 ++++++++++++++-----
 3 files changed, 21 insertions(+), 6 deletions(-)

diff --git a/PbStockScraper.go b/PbStockScraper.go
index ed5df3d..515d4a1 100644
--- a/PbStockScraper.go
+++ b/PbStockScraper.go
@@ -22,7 +22,7 @@ func main() {
 
 	flag.Parse()
 
-	c := config.NewConfig("/home/beekums/Projects/stockResearch/config")
+	c := config.NewConfig("devConfig")
 
 	log.Println("Loaded config: ", c)
 
diff --git a/devConfig b/devConfig
new file mode 100644
index 0000000..51d2c57
--- /dev/null
+++ b/devConfig
@@ -0,0 +1,6 @@
+{
+	"TmpDir":				"pbsrtmp",
+	"MysqlDb":			"mystock",
+	"MysqlUser":		"root",
+	"MysqlPass":		"123456"
+}
diff --git a/tmpStore/TempStore.go b/tmpStore/TempStore.go
index 6fab746..50a6774 100644
--- a/tmpStore/TempStore.go
+++ b/tmpStore/TempStore.go
@@ -5,6 +5,7 @@ import (
 	"io"
 	"io/ioutil"
 	"os"
+	"unsafe"
 	"syscall"
 )
 
@@ -69,11 +70,19 @@ func (ts *TempStore) getDirPath(bucket string) string {
 }
 
 func getPercentDiskFree(dir string) float64 {
-	var stat syscall.Statfs_t
-	syscall.Statfs(dir, &stat)
-
-	free := float64(stat.Bfree * uint64(stat.Bsize))
-	total := float64(stat.Blocks * uint64(stat.Bsize))
+	h := syscall.MustLoadDLL("kernel32.dll")
+	c := h.MustFindProc("GetDiskFreeSpaceExW")
+	lpFreeBytesAvailable := int64(0)
+	lpTotalNumberOfBytes := int64(0)
+	lpTotalNumberOfFreeBytes := int64(0)
+	c.Call(uintptr(unsafe.Pointer(syscall.StringToUTF16Ptr("F:"))),
+	    uintptr(unsafe.Pointer(&lpFreeBytesAvailable)),
+	    uintptr(unsafe.Pointer(&lpTotalNumberOfBytes)),
+	    uintptr(unsafe.Pointer(&lpTotalNumberOfFreeBytes)))
+	
+	free := float64(lpTotalNumberOfFreeBytes)
+	total := float64(lpTotalNumberOfBytes)
+	
 
 	return free / total
 }
